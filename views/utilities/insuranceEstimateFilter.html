


<link href="http://fonts.googleapis.com/css?family=Open+Sans:400,300,600,700&subset=all" rel="stylesheet"
type="text/css" />
<link href="/plugins/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css" />
<link href="/plugins/simple-line-icons/simple-line-icons.min.css" rel="stylesheet" type="text/css" />
<link href="/plugins/bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
<link href="/plugins/bootstrap-switch/css/bootstrap-switch.min.css" rel="stylesheet" type="text/css" />
<link href="/plugins/bootstrap-sweetalert/sweetalert.css" rel="stylesheet" type="text/css" />

<link href="/plugins/bootstrap-daterangepicker/daterangepicker.min.css" rel="stylesheet" type="text/css" />
<link href="/plugins/select2/css/select2.min.css" rel="stylesheet" type="text/css" />
<link href="/plugins/select2/css/select2-bootstrap.min.css" rel="stylesheet" type="text/css" />
<!-- END GLOBAL MANDATORY STYLES -->
<!-- BEGIN THEME GLOBAL STYLES -->
<link href="/css/components.css" rel="stylesheet" id="style_components" />
<link href="/css/plugins.min.css" rel="stylesheet" type="text/css" />
<link rel="stylesheet" type="text/css" href="/css/main-twilio.css">
<!-- END THEME GLOBAL STYLES -->
<!-- BEGIN THEME LAYOUT STYLES -->
<link href="/css/layout3/layout.min.css" rel="stylesheet" type="text/css" />
<link href="/css/layout3/default.min.css" rel="stylesheet" id="style_color" />
<link href="/css/custom.min.css" rel="stylesheet" type="text/css" />
<link href="/css/style.css?v=1.4" rel="stylesheet" type="text/css" />
<link href="/plugins/metisMenu/dist/metisMenu.min.css" rel="stylesheet" type="text/css" />
<link href="/plugins/bootstrap-datepicker/dist/css/bootstrap-datepicker.css" rel="stylesheet" type="text/css" />
<link href="/plugins/bootstrap-toggle/bootstrap-toggle.css" rel="stylesheet">
<link href="/plugins/bootstrap-multiselect/css/bootstrap-multiselect.min.css" rel="stylesheet">
<link href="/plugins/fancybox/source/jquery.fancybox.css" rel="stylesheet" type="text/css" />
<link href="/plugins/jquery-file-upload/blueimp-gallery/blueimp-gallery.min.css" rel="stylesheet" type="text/css" />
<link href="/plugins/jquery-file-upload/css/jquery.fileupload.css" rel="stylesheet" type="text/css" />
<link href="/plugins/jquery-file-upload/css/jquery.fileupload-ui.css" rel="stylesheet" type="text/css" />
<link href="/css/intlTelInput.css" rel="stylesheet" type="text/css" />
<link href="/css/ui-intlTelInput.css" rel="stylesheet" type="text/css" />

<link rel="stylesheet" type="text/css" href="/css/tooltip/tooltipster.bundle.min.css" />
<link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Roboto:400,300">
<link rel="stylesheet" href="/css/textAngular.css" type="text/css">

<link rel="stylesheet" href="/css/select.css">
<link rel="stylesheet" href="css/jquery.toast.css">
<link rel="stylesheet" href="/css/angular-bootstrap-toggle.css">
<link rel="stylesheet" href="/css/error.css">




<!-- themes -->
<!-- <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.css"> -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/select2/3.4.5/select2.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/selectize.js/0.8.5/css/selectize.default.css">



<style>
.select2-container--bootstrap {
    width: 100% !important;
}

.intl-tel-input {
    width: 100%;
}

.help-block {
    color: #e73d4a;
}

.error {
    color: #e73d4a;
}

.select2-container .select2-choice .select2-arrow {
    background-image: none;
    background: none;
    border-left: none;
}

.select2-container .select2-choice>.select2-chosen {
    color: #555;
}


@media (max-width: 991px) {
    .top-menu {
        display: none !important;
    }
}
</style>
<style type="text/css">
.PTable {
    display: table;
}

.PTitle {
    display: table-caption;
    text-align: center;
    font-weight: bold;
    font-size: larger;
}

.PHeading {
    display: table-row;
    font-weight: bold;
    text-align: center;
}

.PRow {
    display: table-row;
}

.PCell {
    display: table-cell;
    border: solid;
    border-width: thin;
    padding-left: 5px;
    padding-right: 5px;
    line-height: 0px;
}
.depth-1 {
padding-left: 0px;
font-weight: bold;
}
.depth-2 {
padding-left: 15px;
}
.depth-3 {
padding-left: 30px;
}

</style>
<style>


.blockUI.blockMsg{top: 50%!important; left: 50%!important; transform: translate(-50%, -50%)!important; width: 90%!important; background-color: #4cbeac!important; border: none!important; padding: 10px!important; border-radius: 5px!important;}
.blockUI.blockMsg h1{font-size: 14px!important; margin: 0px; color: #fff!important;}
@media (min-width:769px){
    .blockUI.blockMsg{width: inherit!important; padding: 15px!important;}
    .blockUI.blockMsg h1{font-size: 18px!important;}
}

</style>
<!-- END THEME LAYOUT STYLES -->
<link rel="shortcut icon" href="/img/favicon.png" />
<style>
    .control-label {
        text-align: left !important;
    }

    .s2m1 {
        width: 100%;
    }
</style>



<div class="row">
    <div class="col-md-12 col-sm-12">
        <div class="portlet light ">
            <div class="portlet-title">
                <div class="caption caption-md">
                    <i class="icon-magnifier font-green"></i>
                    <span class="caption-subject font-green sbold uppercase">insurance status</span>
                </div>
            </div>
            <div class="portlet-body">
                <form class="form-horizontal form-bordered" id="insuranceForm">



                    <div class="row">
                        <div class="col-md-3">
                            <div class="form-group">
                                <label class="control-label col-sm-12 text-left">From Date<span class="required"
                                        aria-required="true"> * </span></label>
                                <div class="col-sm-12">
                                    <input type="text" name="date" id="date" readonly="true" ng-model="date"
                                        class="form-control">
                                </div>
                            </div>
                        </div>

                        <div class="col-md-3">
                            <div class="form-group">
                                <label class="control-label col-sm-12 text-left">To Date<span class="required"
                                        aria-required="true"> * </span></label>
                                <div class="col-sm-12">
                                    <input type="text" name="tdate" id="tdate" readonly="true" ng-model="tdate"
                                        class="form-control"><span class="err">{{errMessage}}</span>
                                </div>
                            </div>
                        </div>



                        <div class="col-sm-3">
                            <div class="form-group">
                                <label class="control-label col-sm-12 ">Select Status</label>
                                <div class="col-sm-12">
                                    <select class="form-control" name="status" id="status" ng-model="status">
                                        <option value="">Please Select</option>
                                        <option value="{{status}}" ng-repeat="status in statusList">{{status}}</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <div class="col-sm-3">
                            <div class="form-group">
                                <label class="control-label col-sm-12 text-left">Lead Id</label>
                                <div class="col-sm-12">

                                    <input type="text" class="form-control" id="lead" name="lead" ng-model="lead">
                                </div>
                            </div>
                        </div>

                    </div>




                    <div class="row">


                       


                        <div class="col-sm-3">
                            <div class="form-group">
                                <label class="control-label col-sm-12 text-left">Name</label>
                                <div class="col-sm-12">

                                    <input type="text" class="form-control" id="name" name="name" ng-model="name">
                                </div>
                            </div>
                        </div>


                        <div class="col-sm-3" ng-show="vendorShow=='medfin'">
                            <div class="form-group">
                                <label class="control-label col-sm-12 ">Select Vendor</label>
                                <div class="col-sm-12">
                                    <select class="form-control" name="vendor" id="vendor" ng-model="vendor">
                                        <option value="">Please Select</option>
                                        <option value="{{vendor}}" ng-repeat="vendor in vendorList">{{vendor}}</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-3">
                            <div class="form-group">
                                <label class="control-label col-sm-12 ">Select KYP Status</label>
                                <div class="col-sm-12">
                                    <select class="form-control" name="kyp" id="kyp" ng-model="kyp">
                                       
                                        <option value="{{kyp.value}}" ng-repeat="kyp in kypList">{{kyp.option}}</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                    </div>



                    <div class="row">
                        <div class="col-md-6" style="margin-top: 10px;">
                            <div class="col-md-4">
                                <input type="button" date-exportexcel="false" data-page="1"
                                    class="btn blue btn-block margin-top-20 green-haze" value="Submit"
                                    ng-click="submit(0);">
                            </div>
                            <div class="col-md-4">
                                <input type="button" ng-click="resetFilter()"
                                    class="btn blue btn-block margin-top-20 red-haze" value="Clear">
                            </div>
                            <div class="col-md-4" ng-if="can('insurance.estimate.filter.export')">
                                <input type="button" date-exportexcel="false" data-page="1"
                                    class="btn blue btn-block margin-top-20 green-haze" value="Export To Excel"
                                    ng-click="export(0);">
                            </div>
                        </div>
                    </div>

                </form>

            </div>
        </div>
    </div>
</div>



<div class="row" ng-show="total > 0">
    <div class="col-md-12 col-sm-12">
        <div class="portlet light ">
            <div class="portlet-title">
                <div class="caption caption-md">
                    <i class="icon-list font-green"></i>
                    <span class="caption-subject font-green sbold uppercase"> LIST (LEAD COUNT -
                        {{total}})</span>
                </div>
            </div>
            <div class="portlet-body">
                <table class="table table-striped table-bordered table-advance table-hover">
                    <thead>
                        <tr>


                            <th>Patient Name / Mobile / Vendor</th>
                            <th>Insurance / TPA / Insurance Type / Claim Type</th>

                            <th>Posted By / Posted Date</th>
                            <th>Surgery Name / Reference Number</th>

                            <th>status</th>



                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="insurance in userList">

                            <td>{{insurance.patientName}}<br />
                                <br />

                                <span ng-if="can('mobile.number.display.permission')"> {{insurance.patientMobile}}<a href="#"
                                    ng-click="actions.makeConferenceCallByMobile({mobile:insurance.patientMobile,leadId:insurance.leadId})"><i
                                        class="fa fa-phone"></i></a>
                            </span>
                            <a class="btn btn-icon-only btn-circle popovers" data-toggle="popover" ng-click="actions.getMobileNumber({                                               
                                lead: insurance.leadId,                                               
                            })"
                            data-container="body" data-trigger="hover" data-placement="top"
                            data-content="View mobile"
                            data-original-title="Verify OTP" href="#"><i
                                class="icon-eye font-green-sharp"></i></a>
                                <br /> <br/>
								<b>{{insurance.vendor}}</b>
                                <br /><br />
                                <a href="/insurance-estimate/{{insurance.token}}" target="_blank">Details</a>

                            </td>
                            <td>{{insurance.insuranceName}}<br /> <br /> {{insurance.tpa}}<br /> <br />
                                {{insurance.insuranceType}} <br /> <br /><strong>{{insurance.claimType}}</strong></td>
                            <td>{{insurance.postedBy}} <br /> <br /> {{insurance.postedDate}}</td>
                            <td>{{insurance.surgeryName}} <br /> <br /> {{insurance.referenceNumber}}</td>

                            <td>
                                <table class="table table-striped table-bordered table-advance table-hover">
                                    <tr>
                                        <th>Doctor</th>
                                        <th>Hospital</th>
                                        <th>Status</th>
                                    </tr>
                                    <tr ng-repeat="status in insurance.info">
                                        <td>{{status.doctor}} </td>
                                        <td> {{status.hospital}}</td>
                                        <td>{{status.eligibility}}</td>
                                    </tr>
                                </table>
                            </td>

                        </tr>
                    </tbody>
                </table>


                <div class="row " ng-show="userList.length > 0">
                    <div class="col-sm-12 text-right">
                        <!-- pagination -->
                        <div paging page="currentPage" page-size="pageSize" total="total" show-prev-next="true"
                            text-next="next" text-prev="prev" paging-action="pagination('Paging Clicked', page)">
                        </div>

                    </div>
                </div>

            </div>
        </div>
    </div>
</div>


<script>
    (function () {
        $('#insuranceForm').validate({
            errorElement: 'span', //default input error message container
            errorClass: 'help-block help-block-error', // default input error message class
            focusInvalid: false, // do not focus the last invalid input
            ignore: "", // validate all fields including form hidden input
            rules: {



                date: {
                    required: true,

                },
                tdate: {
                    required: true,

                }

            },
            messages: {
                service: "Please select the service.",
                city: "Please select the city.",
                date: "date is required",
                tdate: "date is required",


                prospect: "Please select the speciality"


            },
            highlight: function (element) { // hightlight error inputs
                $(element)
                    .closest('.form-group').addClass(
                        'has-error'); // set error class to the control group
            },
            unhighlight: function (element) { // revert the change done by hightlight
                $(element)
                    .closest('.form-group').removeClass(
                        'has-error'); // set error class to the control group
            },
            success: function (label) {
                label
                    .closest('.form-group').removeClass(
                        'has-error'); // set success class to the control group
            },

        });





        setTimeout(function () {

            $('#date,#tdate,#reminderDate2').datepicker({
                format: "yyyy-mm-dd",
                autoclose: true,

            });

            $('#date').on("changeDate", function () {
                $('#tdate').val($(this).val());
                var selected = $(this).val();

                var dt2 = $('#tdate');


                $('#tdate').datepicker('setStartDate', selected);


            });


        }, 100);




    })();
</script>