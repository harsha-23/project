<style>
    .control-label {
        text-align: left !important;
    }

    .s2m1 {
        width: 100%;
    }
</style>


<div class="row">
    <div class="col-md-12 col-sm-12">
        <div class="portlet light ">
            <div class="portlet-title">
                <div class="caption caption-md">
                    <i class="icon-magnifier font-green"></i>
                    <span class="caption-subject font-green sbold uppercase">INSURANCE STATUS REPORTS</span>
                </div>
            </div>
            <div class="portlet-body">
                <form class="form-horizontal form-bordered" id="insuranceForm">



                    <div class="row">
                        <div class="col-md-3">
                            <div class="form-group">
                                <label class="control-label col-sm-12 text-left">From Date<span class="required"
                                        aria-required="true"> * </span></label>
                                <div class="col-sm-12">
                                    <input type="text" name="date" id="date" readonly="true" ng-model="date"
                                        class="form-control">
                                </div>
                            </div>
                        </div>

                        <div class="col-md-3">
                            <div class="form-group">
                                <label class="control-label col-sm-12 text-left">To Date<span class="required"
                                        aria-required="true"> * </span></label>
                                <div class="col-sm-12">
                                    <input type="text" name="tdate" id="tdate" readonly="true" ng-model="tdate"
                                        class="form-control"><span class="err">{{errMessage}}</span>
                                </div>
                            </div>
                        </div>



                        <div class="col-sm-3">
                            <div class="form-group">
                                <label class="control-label col-sm-12 ">Insurance Status</label>
                                <div class="col-sm-12">
                                    <select class="form-control" name="status" id="status" ng-model="status">
                                        <option value="">Please Select</option>
                                        <option value="{{status}}" ng-repeat="status in statusList">{{status}}</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <div class="col-sm-3">
                            <div class="form-group">
                                <label class="control-label col-sm-12 text-left">Lead Id</label>
                                <div class="col-sm-12">

                                    <input type="text" class="form-control" id="lead" name="lead" ng-model="lead">
                                </div>
                            </div>
                        </div>

                    </div>




                    <div class="row">


                       


                        <div class="col-sm-3">
                            <div class="form-group">
                                <label class="control-label col-sm-12 ">Date Type </label>
                                <div class="col-sm-12">
                                    <select class="form-control" name="dateType" id="dateType" ng-model="dateType">
                                        <option value="">Date Type</option>
                                        <option value="createdDate">Created Date </option>
                                        <option value="appointmentDate"> Appointment Date</option>
                                        <option value="admissionDate">Admission Date </option>
                                        <option value="surgeryDate">Surgery Date </option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <div class="col-sm-3" ng-show="vendorShow=='medfin'">
                            <div class="form-group">
                                <label class="control-label col-sm-12 ">Select Vendor</label>
                                <div class="col-sm-12">
                                    <select class="form-control" name="vendor" id="vendor" ng-model="vendor">
                                        <option value="">Please Select</option>
                                        <option value="{{vendor}}" ng-repeat="vendor in vendorList">{{vendor}}</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-3">
                            <div class="form-group">
                                <label class="control-label col-sm-12 text-left">City</label>
                                <div class="col-sm-12">
                                    <ui-select  ng-model="filter.cityClone" class="form-control" theme="select2"
                                    title="Choose a city" style="padding: 0px; border:none;" 
                                    close-on-select="true" >
                                    <ui-select-match placeholder="Select city"
                                        style="height: -webkit-fill-available;line-height: 34px;    background-image: none; ">
                                        <i class="fa fa-close" style="color: #f36a5a;"
                                            ng-click="clear($event,'city','filter')"></i> &nbsp;
                                        {{$select.selected.name}}</ui-select-match>
                                    <ui-select-choices group-by="app.someGroupForParentCity"
                                        repeat="city.name as city in cityList | propsFilter: {name: $select.search}">
                                        <div ng-bind-html="city.name | highlight: $select.search"></div>
                            
                                    </ui-select-choices>
                                </ui-select>
                                <input type="hidden" name="cityClone" id="cityClone"
                                value="{{filter.cityClone}}" />
                                </div>
                            </div>
                        </div>

                        <div class="col-sm-3">
                            <div class="form-group">
                                <label for="job-comment" class="col-lg-12 control-label">Insurance Name </label>
                                <div class="col-lg-12">

                                    <select id="insuranceName" name="insuranceName" class="form-control"
                                        ng-model="insuranceEstimate.insuranceName">
                                        <option value="">Please select</option>
                                        <option ng-repeat="insuranceTemp in insuranceList " value="{{insuranceTemp}}">
                                            {{insuranceTemp}}</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                    </div>



                    <div class="row">
                        <div class="col-md-6" style="margin-top: 10px;">
                            <div class="col-md-4">
                                <input type="button" date-exportexcel="false" data-page="1"
                                    class="btn blue btn-block margin-top-20 green-haze" value="Submit"
                                    ng-click="submit(0);">
                            </div>
                            <div class="col-md-4">
                                <input type="button" ng-click="resetFilter()"
                                    class="btn blue btn-block margin-top-20 red-haze" value="Clear">
                            </div>
                           
                        </div>
                    </div>

                </form>

            </div>
        </div>
    </div>
</div>



<div class="row" ng-show="sessionListHeaders.length > 0">
    <div class="col-md-12 col-sm-12">
        <div class="portlet light ">
            <div class="portlet-title">
                <div class="caption caption-md">
                    <i class="icon-list font-green"></i>
                    <span class="caption-subject font-green sbold uppercase"> LIST (LEAD COUNT -
                        {{total}})</span>
                </div>
            </div>
            <div class="portlet-body">
                <table class="table table-striped table-bordered table-advance table-hover">
                    <thead>
                        <tr>
                            <th ng-repeat="headers in sessionListHeaders">
                                {{headers}}
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="ord in sessionList">

                            <td>
                               
                                <br /><br />
                                <a href="{{newAdmin}}/lead/details/{{ord.lsLead}}" target="_blank">{{ord.lead}}</a>
                                <br /><br />
                               {{ord.leadStatus}}


                            </td>

                            <td>

                              <div> 
                                  
                              
                                <span >
                                    <br /><br />Eligibility Req Date <br />{{ord.EligibilityReqDate}}
                                </span>
                              
                                <span ng-if="ord.EligibilityResponseDate">
                                    <br /><br />Eligibility Response Date <br />{{ord.EligibilityResponseDate}}
                                </span>
                                  <span ng-if="ord.PreAuthReqDate">
                                    <br /><br />Pre Auth Req Date <br />{{ord.PreAuthReqDate}}
                                </span>
                                <span ng-if="ord.PreAuthResponseDate">
                                    <br /><br />Pre Auth Response Date<br />{{ord.PreAuthResponseDate}}
                                </span>
                            

                               

                              </div>
                             



                            </td>

                           <td>
                            {{ord.status}}
                           </td>
                           <td>
                            {{ord.city}}
                           </td>
                           <td>
                            {{ord.surgery}}
                           </td>

                            <td>
                               
                                <span >
                                    <br /><br /><b>Doctor</b> <br />{{ord.doctor}}
                                </span>
                              
                                <span ng-if="ord.hospital">
                                    <br /><br /><b>Hospital</b> <br />{{ord.hospital}}
                                </span>
                            </td>
                            <td>
                                {{ord.remarks}}  
                            </td>
                          
                            <td>
                                {{ord.vendor}}  
                            </td>
                            <td>
                                
                                <span >
                                    <br /><br /><b>Insurance </b><br />{{ord.insurance}}
                                </span>
                              
                                <span>
                                    <br /><br /><b>TPA</b> <br /> {{ord.TPA}} 
                                </span>
                            </td>

                        
                        </tr>
                    </tbody>
                </table>


                <div class="row " ng-show="userList.length > 0">
                    <div class="col-sm-12 text-right">
                        <!-- pagination -->
                        <div paging page="currentPage" page-size="pageSize" total="total" show-prev-next="true"
                            text-next="next" text-prev="prev" paging-action="pagination('Paging Clicked', page)">
                        </div>

                    </div>
                </div>

            </div>
        </div>
    </div>
</div>


<script>
    (function () {
        $('#insuranceForm').validate({
            errorElement: 'span', //default input error message container
            errorClass: 'help-block help-block-error', // default input error message class
            focusInvalid: false, // do not focus the last invalid input
            ignore: "", // validate all fields including form hidden input
            rules: {



                date: {
                    required: true,

                },
                tdate: {
                    required: true,

                }

            },
            messages: {
                service: "Please select the service.",
                city: "Please select the city.",
                date: "date is required",
                tdate: "date is required",


                prospect: "Please select the speciality"


            },
            highlight: function (element) { // hightlight error inputs
                $(element)
                    .closest('.form-group').addClass(
                        'has-error'); // set error class to the control group
            },
            unhighlight: function (element) { // revert the change done by hightlight
                $(element)
                    .closest('.form-group').removeClass(
                        'has-error'); // set error class to the control group
            },
            success: function (label) {
                label
                    .closest('.form-group').removeClass(
                        'has-error'); // set success class to the control group
            },

        });





        setTimeout(function () {

            $('#date,#tdate,#reminderDate2').datepicker({
                format: "yyyy-mm-dd",
                autoclose: true,

            });

            $('#date').on("changeDate", function () {
                $('#tdate').val($(this).val());
                var selected = $(this).val();

                var dt2 = $('#tdate');


                $('#tdate').datepicker('setStartDate', selected);


            });


        }, 100);




    })();
</script>