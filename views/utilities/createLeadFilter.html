<style>
    .control-label {
        text-align: left !important;
    }

    .s2m1 {
        width: 100%;
    }
</style>
<style type="text/css">
    #blockUiBackdrop {
        height: 100vh;
        width: 100%;
        z-index: 20000;
        position: fixed;
        top: 0;
        left: 0;
        background-color: #000;
        opacity: 0.5;
        -webkit-transition: all 0.5s ease;
        -moz-transition: all 0.5s ease;
        -o-transition: all 0.5s ease;
        transition: all 0.5s ease;
    }

    #blockUiDiv {
        background-color: transparant;
        width: 194px;
        height: 194px;
        position: absolute;
        left: calc(50% - 97px);
        top: calc(50vh - 97px);
        z-index: 20001;
    }

    #blockUiDiv img {
        width: 194px;
        height: 194px;
    }

    .redtag {
        font-weight: bold;
        text-align: center;
        color: black;
        background-color: red;
    }
</style>

<div class="row">
    <div class="col-md-12 col-sm-12">
        <div class="portlet light ">
            <div class="portlet-title">
                <div class="caption caption-md">
                    <i class="icon-magnifier font-green"></i>
                    <span class="caption-subject font-green sbold uppercase">Lead Filter</span>
                </div>
            </div>
            <div class="portlet-body">
                <form class="form-horizontal form-bordered" id="session-filter-form">
                    <div class="row">
                        <div class="col-md-6">
                            <label class="control-label">Date Range</label>
                            <div class="input-group date form_datetime">
                                <input class="form-control phone-group date-picker-range" id="startDate"
                                    placeholder="From Date" onKeyUp="checkForSessionFilter('mobile')"
                                    onkeydown="checkForSessionFilter('mobile')"
                                    onfocusout="checkForSessionFilter('mobile')" readonly="true" name="startDate"
                                    type="text" ng-model="filter.fromDate">
                                <span class="input-group-addon" style="border: #fff; background-color: #fff;">
                                    <font style="font-weight: 500;">to</font>
                                </span>
                                <input onKeyUp="checkForSessionFilter('mobile')"
                                    onkeydown="checkForSessionFilter('mobile')"
                                    onfocusout="checkForSessionFilter('mobile')"
                                    class="form-control phone-group date-picker-range" id="endDate"
                                    placeholder="To Date" readonly="true" name="toDate" type="text"
                                    ng-model="filter.toDate">
                            </div>
                        </div>

						<div class="col-md-3" style="margin-top: 10px;">
                            <div class="col-md-6">
                                <input type="button" date-exportexcel="false" data-page="1"
                                    class="btn blue btn-block margin-top-20 green-haze" value="Search"
                                    ng-click="leadFilter(0)">
                            </div>
                            <div class="col-md-6">
                                <input type="button" ng-click="resetFilter()"
                                    class="btn blue btn-block margin-top-20 red-haze" value="Clear">
                            </div>
                        </div>

                    </div>
			
	
                </form>

            </div>
        </div>
    </div>
</div>


<div class="row" ng-show="total > 0">
    <div class="col-md-12 col-sm-12">
        <div class="portlet light ">
            <div class="portlet-title">
                <div class="caption caption-md">
                    <i class="icon-list font-green"></i>
                    <span class="caption-subject font-green sbold uppercase">LEAD LIST (LEAD COUNT - {{total}})</span>
                </div>
            </div>
            <div class="portlet-body">
                <table class="table table-striped table-bordered table-advance table-hover">
                    <thead>
                        <tr>
                            <th>
                               Name
                            </th>
                            <th>
                                Mobile
                            </th>
                            <th>
                                Status
                            </th>
                            <th>
                                Created Date
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="ord in leadList">           

                            <td>
                                {{ord.name}}
                            </td>
                            <td>
                                {{ord.mobile}}
                            </td>
                            <td>
                                {{ord.status}}
                            </td>
                            <td>
                                {{ord.createdDate}}
                            </td>                      

                        </tr>
                    </tbody>
                </table>
                <div class="row " ng-show="leadList.length > 0">
                    <div class="col-sm-12 text-right">
                        <!-- pagination -->
                        <div paging page="filter.rowIndex" page-size="filter.rowCount" total="total" show-prev-next="true"
                            text-next="next" text-prev="prev" paging-action="pagination('Paging Clicked', page)">
                        </div>

                    </div>
                </div>


            </div>
        </div>
    </div>
</div>

<div id="blockUiDiv" ng-show="showBlockUI">
</div>
<div id="blockUiBackdrop" ng-show="showBlockUI">
</div>




<script>
    /* validate the login form */
    (function () {


        applySelect2();
        // applyDateRange();      

        /* Define logic for restricting user from selecting date range more than 30 days */
        $('#startDate,#endDate').datepicker({
            format: "yyyy-mm-dd",
            autoclose: true,
        });


        $('#startDate').on("changeDate", function () {
            $('#endDate').val($(this).val());
            var selected = $(this).val();
            $('#endDate').datepicker('setStartDate', selected);
        });

        $('#session-filter-form').validate({
            errorElement: 'span', //default input error message container
            errorClass: 'help-block help-block-error', // default input error message class
            focusInvalid: false, // do not focus the last invalid input
            ignore: "", // validate all fields including form hidden input
            rules: {
                startDate: {
                    required: true

                },
                endDate: {
                    required: true

                }


            },
            messages: {
                //appointmentId: "Enter valid Appointment Id.",
                mobile: {
                    required: "Enter valid Mobile Number.",
                    minlength: "Mobile number should be {0} digit.",
                    maxlength: "Mobile number should be {0} digit."
                }

            },
            highlight: function (element) { // hightlight error inputs
                $(element)
                    .closest('.form-group').addClass(
                        'has-error'); // set error class to the control group
            },
            unhighlight: function (element) { // revert the change done by hightlight
                $(element)
                    .closest('.form-group').removeClass(
                        'has-error'); // set error class to the control group
            },
            success: function (label) {
                label
                    .closest('.form-group').removeClass(
                        'has-error'); // set success class to the control group
            },
            errorPlacement: function (error, element) {
                if (element.attr("name") == "mobile") {
                    error.insertAfter(element.parent());
                } else {
                    error.insertAfter(element);
                }
            }
        });


    })();
</script>

<script src="/js/internationalMobileInitiazation.js" type="text/javascript"></script>